<?php

//************************
// This file is for PHP environment variables
//************************

define('SEMESTER_PATH', 'spring_2022');
define('APACHE_PATH', 'csis408');
define('TEAM_NAME', 'social02');
define('WEB_ROOT', '/' . SEMESTER_PATH . '/' . APACHE_PATH . '/' . TEAM_NAME);
define('PROJECT_ROOT', $_SERVER['DOCUMENT_ROOT'] . WEB_ROOT);
define('PROJECT_HTML', PROJECT_ROOT . '/html');
define('PROJECT_ENV', PROJECT_ROOT . '/env');

// Database Connection
define('DB_FILEPATH', 'csis316');
define('DB_LOCATION', 'localhost');
define('DB_USERNAME', 'jwestfal_student');
define('DB_PASSWORD', 'student');
define('DB_DATABASE', 'jwestfal_social02');

$available_tables = array();
$available_tables[] = 'comments';
$available_tables[] = 'friendswith';
$available_tables[] = 'posts';
$available_tables[] = 'reactions';
$available_tables[] = 'users';
define('DB_TABLES', json_encode($available_tables));
unset($available_tables);

// Form validation variables
define('VALIDATE_UC_ALPHABET', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ');
define('VALIDATE_LC_ALPHABET', 'abcdefghijklmnopqrstuvwxyz');
define('VALIDATE_NUMERIC', '0123456789');
define('VALIDATE_SEPERATORS', ' -_.|');
define('VALIDATE_SPECIAL', '/+=-,.;:[{}]\\|~');

// Ensure the USER information is normalized
$tbl_users = new users;
$myACCOUNT = isset($_SESSION['USER_ARRAY']) ? $_SESSION['USER_ARRAY'] : $tbl_users->Normalize();
$myACCOUNT_TYPE = ($myACCOUNT['is_admin']) ? 'administrators' : 'users';
$_SESSION['USER_ARRAY'] = isset($_SESSION['USER_ARRAY']) ? $_SESSION['USER_ARRAY'] : $tbl_users->Normalize();
$_SESSION['USER_ID'] = isset($_SESSION['USER_ID']) ? $_SESSION['USER_ID'] : '';
$_SESSION['USER_TYPE'] = isset($_SESSION['USER_TYPE']) ? $_SESSION['USER_TYPE'] : '';
unset($tbl_users);

?>